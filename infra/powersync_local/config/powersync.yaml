# yaml-language-server: $schema=https://unpkg.com/@powersync/service@latest/schema/schema.json

telemetry:
  disable_telemetry_sharing: false

replication:
  connections:
    - type: postgresql
      uri: !env PS_DATA_SOURCE_URI
      sslmode: disable

storage:
  type: mongodb
  uri: !env PS_MONGO_URI

port: !env PS_PORT

sync_rules:
  path: sync_rules.yaml

client_auth:
  # Use Supabase Auth (local dev uses the Supabase JWT secret).
  supabase: true
  supabase_jwt_secret: !env PS_SUPABASE_JWT_SECRET
  audience: ["authenticated"]
